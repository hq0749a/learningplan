# 第七周作业

数据分析第一周闯关作业 

本周共 3 个作业 

## 作业一： 

复习矩阵相关操作，并完成下题: 菜价 

| 日期      | 白菜 | 土豆 | 冬瓜 |
| --------- | ---- | ---- | ---- |
| 2019/7/28 | 1.2  | 1.5  | 1.8  |
| 2019/7/29 | 1.3  | 1.4  | 1.9  |
| 2019/7/30 | 1.1  | 1.6  | 1.7  |

每天采购数量相等，分别如下 

| 品名 | 数量 |
| ---- | ---- |
| 白菜 | 5    |
| 土豆 | 10   |
| 冬瓜 | 9    |

上面的数据，可以在numpy中表示如下 5分 

```python
X = np.array([[1.2, 1.5, 1.8],
              [1.3, 1.4, 1.9],
              [1.1, 1.6, 1.7]])
y = np.array([5, 10, 9]).T 
```

1. 使用循环的方式计算每天的采购总金额 得到结果为[37.2, 37.6, 36.8]，分别表示7/28、 7/29、7/30这三天采购总额 10分 

2. 使用矩阵点乘来计算每天的采购总金额（使用np.dot来实现矩阵相乘）  5分 

3. 测试两种方式的性能 10分

## 作业二： 

阅读下面的代码 

```python
np.random.seed(1) 

X = np.random.randint(1, 10, size=30) 
```

此时X中的数据如下: 

```python
array([6, 9, 6, 1, 1, 2, 8, 7, 3, 5, 6, 3, 5, 3, 5, 8, 8, 2, 8, 1, 7, 8,7, 2, 1, 2 , 9, 9, 4, 9])  
```

请将X处理为一个3列的矩阵，如下: 5分 

![](../img/C_Users_hq0749a_Desktop_作业_第七周数据分析作业(1).pdf_img1.png)

将第三列中，小于等于3的修改为0、大于3且小于等于6的修改为1、大于6的修改为2，结果如下: 10分

![](../img/C_Users_hq0749a_Desktop_作业_第七周数据分析作业(1).pdf_img3.png)

假设这是10条样本数据，前两列是样本的两个特征，第3列是样本的分类标记，请分离出样本的特征和分类 标记，分别存放在两个变量中，用 X_train 存放样本特征(红色部份), y_train存放分类标记(绿色部份) 5分 

  ![](../img/C_Users_hq0749a_Desktop_作业_第七周数据分析作业(1).pdf_img5.png)

请用 numpy 的比较运算，通过 y_train 中的数据，分离出 X_train 中的 3 个分类，如下图5 分 

![](../img/C_Users_hq0749a_Desktop_作业_第七周数据分析作业(1).pdf_img7.png)

## 作业三： 

服务器日志数据分析 

log.txt文件记录了某个项目中某个api的调用情况，采样时间为每分钟一次，包括调用次数、响应时间等信息，大约18万条数据，请进行探索性数据分析 

1. 请将数据导入pandas中，加上列名，如下图所示 

各列对应含义如下 5分

![](../img/C_Users_hq0749a_Desktop_作业_第七周数据分析作业(1).pdf_img11.png)

| 列名         | 描述                   |
| ------------ | ---------------------- |
| id           | 自增字段               |
| api          | api对应的url           |
| count        | 单位时间内被访问的次数 |
| res_time_sum | 响应时间总和(毫秒)     |
| res_time_min | 最小响应时间           |
| res_time_max | 最大响应时间           |
| res_time_avg | 平均值                 |
| interval     | 采样间隔时间(秒)       |
| created_at   | 创建日志时间           |

2. 检测是否有重复值 5分 

3. 检测是否有异常值 5分 

4. 分析api和interval这两列的数据是否对分析有用，如果无用，说明为什么后将这两列丢弃  5分 

5. 使用created_at这一列的数据作为时间索引 10分 

6. 分析api调用次数情况，例如，在一天中，哪些时间是访问高峰，哪些时间段访问比较,如图 

![](../img/C_Users_hq0749a_Desktop_作业_第七周数据分析作业(1).pdf_img13.png)

所示，从凌晨2点到11点访问少，业务高峰出在现下午两三点，晚上八九点 5分

​	7.分析一天中api响应时间，如下图所示，可以看到在业务高峰时间段，最大响应时间和平均响应时间都有所上升 5分 

![](../img/C_Users_hq0749a_Desktop_作业_第七周数据分析作业(1).pdf_img15.png)

8. 分析连续的几天数据，可以发现，每天的业务高峰时段都比较相似 5分 

![](../img/C_Users_hq0749a_Desktop_作业_第七周数据分析作业(1).pdf_img17.png)

9. 分析周末访问量是否有增加。如下图，可以发现，周末的下午和晚上，比非周末访问量多一些 5分 

![](../img/C_Users_hq0749a_Desktop_作业_第七周数据分析作业(1).pdf_img19.png)

## 批改标准： 

a) 第一题共计 25 分。

b) 第二题共计 25 分。 

c) 第三题共计 50 分，第三题就是录播视频最后一节带着大家做的原题，我没有给源代码，希望大家跟着视频来实现